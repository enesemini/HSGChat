<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>HSGChat</title>
    <base href="/">

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=zXro0775q3">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=zXro0775q3">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=zXro0775q3">
    <link rel="manifest" href="/manifest.json?v=zXro0775q3">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=zXro0775q3" color="#00c6ff">
    <link rel="shortcut icon" href="/favicon.ico?v=zXro0775q3">
    <meta name="theme-color" content="#00c6ff">


    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

  <script>
      
  </script>

</head>
<body>
  <app-root></app-root>

  <script>
      $(document).ready(function(){

        var scrolled = false;

        function updateScroll(){
            //console.log('updateScroll()');

            if(!scrolled){
                //console.log('updateScroll() should be scrolling to bottom!!!!');
                var element = $('.main-content');
                $(".main-content").scrollTop( $('.main-content .container-fluid').height() );
            }
        }

        $('.main-content').bind('scroll', function(){
            //console.log('(///////// BIND SCROLL ////////////');
            checkScroll();
        });


        setInterval(updateScroll, 50);
        setInterval(checkScroll, 50);

        function checkScroll(e) {
            var elem = $('.main-content');
            setTimeout(function(){
                if (elem[0].scrollHeight - elem.scrollTop() == elem.outerHeight()) {
                    $('.scroll-to-bottom').addClass('is-hidden');
                    scrolled = false;
                } else {
                    $('.scroll-to-bottom').removeClass('is-hidden');
                    scrolled = true;
                }
            }, 0);
        }

        $('.scroll-to-bottom').click(function(){
            $(".main-content").animate({ scrollTop: $('.main-content .container-fluid').height() }, "slow");
            scrolled = false;
            return false;
        });

      });
  </script>
</body>
</html>
